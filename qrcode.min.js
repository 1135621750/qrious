/*!
 * qrcode.js v1.0.0
 * http://forchoon.com/projects/javascript/qrcode-js/
 *
 * Copyright 2011, Alasdair Mercer
 * Licensed under the GPL Version 3 license.
 *
 * Based on Javascript QR Encoder
 * Copyright 2010, tz@execpc.com
 * Released under the GPL Version 3 license.
 */
var QRCode=function(){function F(b){var n,o,p,q,D,F,G,H;D=b.length;u=0;do{u++;p=(g-1)*4+(u-1)*16;r=e[p++];s=e[p++];c=e[p++];d=e[p];p=c*(r+s)+s-3+(u<=9);if(D<=p){break}}while(u<40);w=17+4*u;F=c+(c+d)*(r+s)+s;for(D=0;D<F;D++){f[D]=0}t=b.slice(0);for(D=0;D<w*w;D++){i[D]=0}for(D=0;D<(w*(w+1)+1)/2;D++){j[D]=0}for(D=0;D<3;D++){p=0;H=0;if(D===1){p=w-7}if(D===2){H=w-7}i[H+3+w*(p+3)]=1;for(G=0;G<6;G++){i[H+G+w*p]=1;i[H+w*(p+G+1)]=1;i[H+6+w*(p+G)]=1;i[H+G+1+w*(p+6)]=1}for(G=1;G<5;G++){x(H+G,p+1);x(H+1,p+G+1);x(H+5,p+G);x(H+G+1,p+5)}for(G=2;G<4;G++){i[H+G+w*(p+2)]=1;i[H+2+w*(p+G+1)]=1;i[H+4+w*(p+G)]=1;i[H+G+1+w*(p+4)]=1}}if(u>1){D=a[u];H=w-7;for(;;){G=w-7;while(G>D-3){y(G,H);if(G<D){break}G-=D}if(H<=D+9){break}H-=D;y(6,H);y(H,6)}}i[8+w*(w-8)]=1;for(H=0;H<7;H++){x(7,H);x(w-8,H);x(7,H+w-7)}for(G=0;G<8;G++){x(G,7);x(G+w-8,7);x(G,w-8)}for(G=0;G<9;G++){x(G,8)}for(G=0;G<8;G++){x(G+w-8,8);x(8,G)}for(H=0;H<7;H++){x(8,H+w-7)}for(G=0;G<w-14;G++){if(G&1){x(8+G,6);x(6,8+G)}else{i[8+G+w*6]=1;i[6+w*(8+G)]=1}}if(u>6){D=v[u-7];p=17;for(G=0;G<6;G++){for(H=0;H<3;H++,p--){if(1&(p>11?u>>p-12:D>>p)){i[5-G+w*(2-H+w-11)]=1;i[2-H+w-11+w*(5-G)]=1}else{x(5-G,2-H+w-11);x(2-H+w-11,5-G)}}}}for(H=0;H<w;H++){for(G=0;G<=H;G++){if(i[G+w*H]){x(G,H)}}}F=t.length;for(n=0;n<F;n++){f[n]=t.charCodeAt(n)}t=f.slice(0);G=c*(r+s)+s;if(F>=G-2){F=G-2;if(u>9){F--}}n=F;if(u>9){t[n+2]=0;t[n+3]=0;while(n--){D=t[n];t[n+3]|=255&D<<4;t[n+2]=D>>4}t[2]|=255&F<<4;t[1]=F>>4;t[0]=64|F>>12}else{t[n+1]=0;t[n+2]=0;while(n--){D=t[n];t[n+2]|=255&D<<4;t[n+1]=D>>4}t[1]|=255&F<<4;t[0]=64|F>>4}n=F+3-(u<10);while(n<G){t[n++]=236;t[n++]=17}m[0]=1;for(n=0;n<d;n++){m[n+1]=1;for(o=n;o>0;o--){m[o]=m[o]?m[o-1]^k[z(l[m[o]]+n)]:m[o-1]}m[0]=k[z(l[m[0]]+n)]}for(n=0;n<=d;n++){m[n]=l[m[n]]}p=G;H=0;for(n=0;n<r;n++){A(H,c,p,d);H+=c;p+=d}for(n=0;n<s;n++){A(H,c+1,p,d);H+=c+1;p+=d}H=0;for(n=0;n<c;n++){for(o=0;o<r;o++){f[H++]=t[n+o*c]}for(o=0;o<s;o++){f[H++]=t[r*c+n+o*(c+1)]}}for(o=0;o<s;o++){f[H++]=t[r*c+n+o*(c+1)]}for(n=0;n<d;n++){for(o=0;o<r+s;o++){f[H++]=t[G+n+o*d]}}t=f;G=H=w-1;p=F=1;q=(c+d)*(r+s)+s;for(n=0;n<q;n++){D=t[n];for(o=0;o<8;o++,D<<=1){if(128&D){i[G+w*H]=1}do{if(F){G--}else{G++;if(p){if(H!==0){H--}else{G-=2;p=!p;if(G===6){G--;H=9}}}else{if(H!==w-1){H++}else{G-=2;p=!p;if(G===6){G--;H-=8}}}}F=!F}while(B(G,H))}}t=i.slice(0);D=0;H=3e4;for(p=0;p<8;p++){C(p);G=E();if(G<H){H=G;D=p}if(D===7){break}i=t.slice(0)}if(D!==p){C(D)}H=h[D+(g-1<<3)];for(p=0;p<8;p++,H>>=1){if(H&1){i[w-1-p+w*8]=1;if(p<6){i[8+w*p]=1}else{i[8+w*(p+1)]=1}}}for(p=0;p<7;p++,H>>=1){if(H&1){i[8+w*(w-7+p)]=1;if(p){i[6-p+w*8]=1}else{i[7+w*8]=1}}}return i}function E(){var a,c,d=0,e,f=0,g=0,h,j,k;for(k=0;k<w-1;k++){for(j=0;j<w-1;j++){if(i[j+w*k]&&i[j+1+w*k]&&i[j+w*(k+1)]&&i[j+1+w*(k+1)]||!(i[j+w*k]||i[j+1+w*k]||i[j+w*(k+1)]||i[j+1+w*(k+1)])){d+=o}}}for(k=0;k<w;k++){b[0]=0;for(h=a=j=0;j<w;j++){if((c=i[j+w*k])===a){b[h]++}else{b[++h]=1}a=c;f+=a?1:-1}d+=D(h)}if(f<0){f=-f}e=f;e+=e<<2;e<<=1;while(e>w*w){e-=w*w;g++}d+=g*q;for(j=0;j<w;j++){b[0]=0;for(h=a=k=0;k<w;k++){if((c=i[j+w*k])===a){b[h]++}else{b[++h]=1}a=c}d+=D(h)}return d}function D(a){var c=0,d;for(d=0;d<=a;d++){if(b[d]>=5){c+=n+b[d]-5}}for(d=3;d<a-1;d+=2){if(b[d-2]===b[d+2]&&b[d+2]===b[d-1]&&b[d-1]===b[d+1]&&b[d-1]*3===b[d]&&(b[d-3]===0||d+3>a||b[d-3]*3>=b[d]*4||b[d+3]*3>=b[d]*4)){c+=p}}return c}function C(a){var b,c,d,e;switch(a){case 0:for(c=0;c<w;c++){for(b=0;b<w;b++){if(!(b+c&1)&&!B(b,c)){i[b+c*w]^=1}}}break;case 1:for(c=0;c<w;c++){for(b=0;b<w;b++){if(!(c&1)&&!B(b,c)){i[b+c*w]^=1}}}break;case 2:for(c=0;c<w;c++){for(d=0,b=0;b<w;b++,d++){if(d===3){d=0}if(!d&&!B(b,c)){i[b+c*w]^=1}}}break;case 3:for(e=0,c=0;c<w;c++,e++){if(e===3){e=0}for(d=e,b=0;b<w;b++,d++){if(d===3){d=0}if(!d&&!B(b,c)){i[b+c*w]^=1}}}break;case 4:for(c=0;c<w;c++){for(d=0,e=c>>1&1,b=0;b<w;b++,d++){if(d===3){d=0;e=!e}if(!e&&!B(b,c)){i[b+c*w]^=1}}}break;case 5:for(e=0,c=0;c<w;c++,e++){if(e===3){e=0}for(d=0,b=0;b<w;b++,d++){if(d===3){d=0}if(!((b&c&1)+!(!d|!e))&&!B(b,c)){i[b+c*w]^=1}}}break;case 6:for(e=0,c=0;c<w;c++,e++){if(e===3){e=0}for(d=0,b=0;b<w;b++,d++){if(d===3){d=0}if(!((b&c&1)+(d&&d===e)&1)&&!B(b,c)){i[b+c*w]^=1}}}break;case 7:for(e=0,c=0;c<w;c++,e++){if(e===3){e=0}for(d=0,b=0;b<w;b++,d++){if(d===3){d=0}if(!((d&&d===e)+(b+c&1)&1)&&!B(b,c)){i[b+c*w]^=1}}}break}}function B(a,b){var c;if(a>b){c=a;a=b;b=c}c=b;c+=b*b;c>>=1;c+=a;return j[c]}function A(a,b,c,d){var e,f,g;for(f=0;f<d;f++){t[c+f]=0}for(f=0;f<b;f++){e=l[t[a+f]^t[c]];if(e!==255){for(g=1;g<d;g++){t[c+g-1]=t[c+g]^k[z(e+m[d-g])]}}else{for(g=c;g<c+d;g++){t[g]=t[g+1]}}t[c+d-1]=e===255?0:k[z(e+m[0])]}}function z(a){while(a>=255){a-=255;a=(a>>8)+(a&255)}return a}function y(a,b){var c;i[a+w*b]=1;for(c=-2;c<2;c++){i[a+c+w*(b-2)]=1;i[a-2+w*(b+c+1)]=1;i[a+2+w*(b+c)]=1;i[a+c+1+w*(b+2)]=1}for(c=0;c<2;c++){x(a-1,b+c);x(a+1,b-c);x(a-c,b-1);x(a+c,b+1)}}function x(a,b){var c;if(a>b){c=a;a=b;b=c}c=b;c*=b;c+=b;c>>=1;c+=a;j[c]=1}if(typeof HTMLCanvasElement==="undefined"||!HTMLCanvasElement.prototype.getContext){return{generate:function(){},generateImage:function(){}}}var a=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],b=[],c,d,e=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],f=[],g=1,h=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],i=[],j=[],k=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],l=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],m=[],n=3,o=3,p=40,q=10,r,s,t=[],u,v=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],w;return{generateCanvas:function(a){var b,c,d,e,f,h,i=4,j=25;a=a||{};if(a.size>=1&&a.size<=10){i=a.size}i*=j;b=a.canvas||document.createElement("canvas");c=b.getContext("2d");c.canvas.width=i;c.canvas.height=i;c.fillStyle="#eee";c.fillRect(0,0,i,i);if(a.level){switch(a.level){case"l":case"L":g=1;break;case"m":case"M":g=2;break;case"q":case"Q":g=3;break;case"h":case"H":g=4;break}}h=F(a.value||"");c.lineWidth=1;f=i;f/=w;f=Math.round(f-.5);c.clearRect(0,0,i,i);c.fillStyle="#fff";c.fillRect(0,0,f*(w+8),f*(w+8));c.fillStyle="#000";for(d=0;d<w;d++){for(e=0;e<w;e++){if(h[e*w+d]){c.fillRect(f*d,f*e,f,f)}}}return b},generateImage:function(a){var b=this.generateCanvas(a),c=a.image||document.createElement("img");c.src=b.toDataURL();c.height=b.height;c.width=b.width;return c}}}()